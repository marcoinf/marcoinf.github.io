<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    .highlight{
      background-color: lightgray;
    }
    .highlight > pre > div{
      display: flex;
      flex-direction: row-reverse;
    }
    .btn-copy{
      color: #FFF;
      background-color: #EB3A3A;
      border: 0;
      padding: 5px 10px;
      cursor: pointer;
    }
    .btn-copy:hover{
      background-color: rgba(235, 58, 58, 0.774);
    }
  </style>
</head>
<body>
  
  <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">let</span> <span class="nx">aviso</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">);</span></code></pre></figure>
  <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s1">'body'</span><span class="p">).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">aviso</span><span class="p">);</span></code></pre></figure>
  <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">aviso</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s1">'&lt;h1&gt;Usuário cadastrado com sucesso!&lt;/h1&gt;'</span><span class="p">;</span></code></pre></figure>

  <script src="clipboard.min.js"></script>
  <script>
  
  // Copiando o código-fonte
  // Adicionando ID em todas as figures com a classe highlight
  let codes = document.querySelectorAll('code');
  let countID = 0;
  codes.forEach((code) => {
  
    // Setando um ID para cada caixa de código
    code.setAttribute("id", "code" + countID);
    
    // Adicionar o botão copiar em todas as figures com a classe highlight
    let btn = document.createElement('button');
    btn.innerHTML = "Copy";
    btn.className = "btn-copy";
    btn.setAttribute("data-clipboard-action", "copy");
    btn.setAttribute("data-clipboard-target", "#code" + countID);
    
    let div = document.createElement('div');
    div.appendChild(btn);
    
    code.before(div);
    // code.appendChild(btn);

    countID++;
  }); 

  let clipboard = new ClipboardJS('.btn-copy');
  
  </script>
</body>
</html>
